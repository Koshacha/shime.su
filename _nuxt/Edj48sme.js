import{A as _,ad as P,ae as D,d as a,e as s,F as p,ab as m,n as F,t as h,af as N,f as O,h as n,g as v,w as A,a0 as z,ag as B,_ as I,a9 as T,S as b,U as j,V as $,r as E,D as M,R as f,P as U}from"./CujC71zc.js";const q={class:"inline-flex space-x-2"},K=["onClick"],R=_({__name:"Filter",props:P({categories:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const t=D(i,"modelValue");return(r,l)=>(s(),a("div",q,[(s(!0),a(p,null,m(r.categories,e=>(s(),a("button",{key:e,onClick:d=>t.value=e,class:F(["category-filter px-4 py-2 rounded-full text-sm transition-colors duration-300",t.value===e?"bg-accent/20 text-text-primary":"bg-secondary/50 text-text-secondary hover:bg-secondary"])},h(e||r.$t("projects.all")),11,K))),128))]))}}),G=Object.assign(R,{__name:"ProjectFilter"}),H={key:0,class:"relative h-48 overflow-hidden"},J=["src","alt"],Q={class:"p-4"},W={class:"text-lg font-semibold text-text-primary mb-1"},X={class:"flex flex-wrap gap-2 text-sm"},Y={class:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},Z=_({__name:"Card",props:{project:{},index:{}},emits:["details"],setup(i,{emit:t}){const r=t,l=()=>{r("details")};return(e,d)=>{const x=B;return s(),a("div",{class:"project-card group relative bg-secondary rounded-lg overflow-hidden shadow-md transition-all duration-300 hover:shadow-xl cursor-pointer",onClick:l,style:N({animationDelay:`${e.index*.1}s`})},[e.project.image?(s(),a("div",H,[n("img",{src:e.project.image,alt:e.project.title,class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"},null,8,J),d[0]||(d[0]=n("div",{class:"absolute inset-0 bg-gradient-to-t from-primary/80 to-transparent"},null,-1))])):O("",!0),n("div",Q,[n("h3",W,h(e.project.title),1),n("div",X,[(s(!0),a(p,null,m(e.project.tags,(y,c)=>(s(),a("span",{key:c,class:"text-text-secondary"},h(y),1))),128))])]),n("div",Y,[v(x,{to:e.project.path,class:"text-xs px-2 py-1 bg-accent/20 backdrop-blur-sm rounded-full text-text-primary"},{default:A(()=>[z(h(e.$t("projects.details")),1)]),_:1},8,["to"])])],4)}}}),ee=Object.assign(I(Z,[["__scopeId","data-v-3fadf81e"]]),{__name:"ProjectCard"}),te={class:"mb-8 overflow-x-auto whitespace-nowrap pb-2"},se={class:"inline-flex space-x-2"},ae=6,oe=_({__name:"Filter",setup(i){return(t,r)=>(s(),a("div",te,[n("div",se,[(s(),a(p,null,m(ae,l=>n("span",{key:l,class:"category-filter px-4 py-2 rounded-full text-sm transition-colors bg-secondary/50 text-text-secondary w-16 h-8"})),64))])]))}}),ne=Object.assign(oe,{__name:"ProjectSkeletonFilter"}),re={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},le=10,ce=_({__name:"Cards",setup(i){return(t,r)=>(s(),a("div",re,[(s(),a(p,null,m(le,l=>n("div",{key:l,class:"project-card group relative bg-secondary rounded-lg overflow-hidden shadow-md transition-all duration-300 hover:shadow-xl cursor-pointer w-full h-80"})),64))]))}}),ie=Object.assign(ce,{__name:"ProjectSkeletonCards"}),de={key:0},ue={class:"mb-8 overflow-x-auto whitespace-nowrap pb-2"},_e={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},pe={key:1,class:"animate-pulse",role:"status"},me=_({__name:"List",async setup(i){let t,r;const{locale:l}=T(),{data:e,status:d}=([t,r]=b(()=>j(`posts-${l.value}`,()=>{let o=`/${l.value}/anken`;return o=o.replace("/ru",""),$("project").select("id","title","path","tags","image").where("path","LIKE",`${o}/%`).order("sort","DESC").all()},{lazy:!0})),t=await t,r(),t),{data:x,status:y}=([t,r]=b(async()=>j(`cats-${l.value}`,async()=>{const o=await $("project").select("tags").where("published","=",!0).where("tags","IS NOT NULL").all();return["",...new Set(o.map(w=>w.tags).flat())]},{lazy:!0})),t=await t,r(),t),c=E(""),k=M(()=>e.value?c.value===""?e.value:e.value.filter(o=>"tags"in o&&Array.isArray(o==null?void 0:o.tags)?o.tags.includes(c.value):!1):[]);return(o,u)=>{const w=G,C=ee,V=ne,S=ie;return f(y)==="success"&&f(d)==="success"?(s(),a("div",de,[n("div",ue,[v(w,{categories:f(x),modelValue:c.value,"onUpdate:modelValue":u[0]||(u[0]=g=>c.value=g)},null,8,["categories","modelValue"])]),n("div",_e,[(s(!0),a(p,null,m(f(k),(g,L)=>(s(),U(C,{key:g.id,project:g,index:L},null,8,["project","index"]))),128))])])):(s(),a("div",pe,[u[1]||(u[1]=n("span",{class:"sr-only"},"Loading...",-1)),v(V),v(S)]))}}}),fe=Object.assign(me,{__name:"ProjectList"});export{fe as default};
