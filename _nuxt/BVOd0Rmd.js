import{z as m,aa as L,ab as F,c as o,h as s,F as g,ac as f,n as N,t as u,ad as z,d as D,f as n,e as p,ae as A,w as B,Z as I,a9 as T,R as j,U as w,V as $,r as E,C as M,Q as x,O as U}from"./DE9AVipN.js";import{_ as k}from"./DlAUqK2U.js";const q={class:"inline-flex space-x-2"},K=["onClick"],Q=m({__name:"Filter",props:L({categories:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const t=F(l,"modelValue");return(a,c)=>(s(),o("div",q,[(s(!0),o(g,null,f(a.categories,e=>(s(),o("button",{key:e,onClick:d=>t.value=e,class:N(["category-filter px-4 py-2 rounded-full text-sm transition-colors duration-300",t.value===e?"bg-accent/20 text-text-primary":"bg-secondary/50 text-text-secondary hover:bg-secondary"])},u(e||a.$t("projects.all")),11,K))),128))]))}}),R=Object.assign(Q,{__name:"ProjectFilter"}),Z={key:0,class:"relative h-48 overflow-hidden"},G=["src","alt"],H={class:"p-4"},J={class:"text-lg font-semibold text-text-primary mb-1"},W={class:"flex flex-wrap gap-2 text-sm"},X={class:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},Y=m({__name:"Card",props:{project:{},index:{}},emits:["details"],setup(l,{emit:t}){const a=t,c=()=>{a("details")};return(e,d)=>{const v=A;return s(),o("div",{class:"project-card group relative bg-secondary rounded-lg overflow-hidden shadow-md transition-all duration-300 hover:shadow-xl cursor-pointer",onClick:c,style:z({animationDelay:`${e.index*.1}s`})},[e.project.image?(s(),o("div",Z,[n("img",{src:e.project.image,alt:e.project.title,class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"},null,8,G),d[0]||(d[0]=n("div",{class:"absolute inset-0 bg-gradient-to-t from-primary/80 to-transparent"},null,-1))])):D("",!0),n("div",H,[n("h3",J,u(e.project.title),1),n("div",W,[(s(!0),o(g,null,f(e.project.tags,(y,i)=>(s(),o("span",{key:i,class:"text-text-secondary"},u(y),1))),128))])]),n("div",X,[p(v,{to:e.project.path,class:"text-xs px-2 py-1 bg-accent/20 backdrop-blur-sm rounded-full text-text-primary"},{default:B(()=>[I(u(e.$t("projects.details")),1)]),_:1},8,["to"])])],4)}}}),ee=Object.assign(k(Y,[["__scopeId","data-v-3fadf81e"]]),{__name:"ProjectCard"}),te={class:"mb-8 overflow-x-auto whitespace-nowrap pb-2"},se={class:"inline-flex space-x-2"},oe=6,ae=m({__name:"Filter",setup(l){return(t,a)=>(s(),o("div",te,[n("div",se,[(s(),o(g,null,f(oe,c=>n("span",{key:c,class:"category-filter px-4 py-2 rounded-full text-sm transition-colors bg-secondary/50 text-text-secondary w-16 h-8"})),64))])]))}}),ne=Object.assign(ae,{__name:"ProjectSkeletonFilter"}),re={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ce=10,le=m({__name:"Cards",setup(l){return(t,a)=>(s(),o("div",re,[(s(),o(g,null,f(ce,c=>n("div",{key:c,class:"project-card group relative bg-secondary rounded-lg overflow-hidden shadow-md transition-all duration-300 hover:shadow-xl cursor-pointer w-full h-80"})),64))]))}}),ie=Object.assign(le,{__name:"ProjectSkeletonCards"}),de={key:0},_e={class:"mb-8 overflow-x-auto whitespace-nowrap pb-2"},ue={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},pe={key:1,class:"animate-pulse",role:"status"},me=m({__name:"List",async setup(l){let t,a;const{locale:c}=T(),{data:e,status:d}=([t,a]=j(()=>w(`posts-${c.value}`,()=>{let r=`/${c.value}/anken`;return r=r.replace("/ru",""),$("project").select("id","title","path","tags","image").where("path","LIKE",`${r}/%`).order("sort","DESC").all()},{lazy:!0})),t=await t,a(),t),{data:v,status:y}=([t,a]=j(async()=>w(`cats-${c.value}`,async()=>{const r=await $("project").select("tags").where("published","=",!0).where("tags","IS NOT NULL").all();return["",...new Set(r.map(b=>b.tags).flat())]},{lazy:!0})),t=await t,a(),t),i=E(""),C=M(()=>e.value?i.value===""?e.value:e.value.filter(r=>"tags"in r&&Array.isArray(r==null?void 0:r.tags)?r.tags.includes(i.value):!1):[]);return(r,_)=>{const b=R,V=ee,P=ne,S=ie;return x(y)==="success"&&x(d)==="success"?(s(),o("div",de,[n("div",_e,[p(b,{categories:x(v),modelValue:i.value,"onUpdate:modelValue":_[0]||(_[0]=h=>i.value=h)},null,8,["categories","modelValue"])]),n("div",ue,[(s(!0),o(g,null,f(x(C),(h,O)=>(s(),U(V,{key:h.id,project:h,index:O},null,8,["project","index"]))),128))])])):(s(),o("div",pe,[_[1]||(_[1]=n("span",{class:"sr-only"},"Loading...",-1)),p(P),p(S)]))}}}),ge=Object.assign(me,{__name:"ProjectList"}),fe={},he={class:"mx-auto"},xe={class:"text-3xl font-semibold mb-8 text-text-primary"};function ve(l,t){const a=ge;return s(),o("div",he,[n("h1",xe,u(l.$t("projects.title")),1),p(a)])}const je=Object.assign(k(fe,[["render",ve]]),{__name:"ProjectsPage"});export{je as default};
