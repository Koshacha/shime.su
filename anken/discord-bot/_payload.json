[{"data":1,"prerenderedAt":361},["ShallowReactive",2],{"navigation":3,"page-/anken/discord-bot":61},[4,8,53,57],{"title":5,"path":6,"stem":7},"Илья Мазунин – Frontend-разработчик","/","1.index",{"title":9,"path":10,"stem":11,"children":12},"Проекты","/anken","2.anken",[13,17,21,25,29,33,37,41,45,49],{"title":14,"path":15,"stem":16},"Сайт магазина строительных материалов","/anken/building-materials-website","anken/Building Materials Website",{"title":18,"path":19,"stem":20},"Обменник криптовалюты","/anken/cryptocurrency-exchanger","anken/Cryptocurrency Exchanger",{"title":22,"path":23,"stem":24},"Бот Discord","/anken/discord-bot","anken/Discord Bot",{"title":26,"path":27,"stem":28},"Приложение для просмотра истории домена","/anken/domain-history-explorer","anken/Domain History Explorer",{"title":30,"path":31,"stem":32},"Сайт провайдера топливных карт","/anken/fuel-card-website","anken/Fuel Card Website",{"title":34,"path":35,"stem":36},"Сайт для поиска работы","/anken/jobs-search-board","anken/Jobs Search Board",{"title":38,"path":39,"stem":40},"Маркетплейс","/anken/marketplace-platform","anken/Marketplace Platform",{"title":42,"path":43,"stem":44},"Сайт-портфолио","/anken/my-old-portfolio","anken/My Old Portfolio",{"title":46,"path":47,"stem":48},"CRUD телефонной базы","/anken/phone-db-explorer","anken/Phone DB Explorer",{"title":50,"path":51,"stem":52},"Сайт энергосбытовой компании","/anken/power-supply-company-website","anken/Power Supply Company Website",{"title":54,"path":55,"stem":56},"Работа","/shigoto","3.shigoto",{"title":58,"path":59,"stem":60},"Обо мне","/hito","4.hito",{"id":62,"title":22,"body":63,"description":346,"extension":347,"meta":348,"navigation":353,"path":23,"seo":359,"stem":24,"__hash__":360},"content/anken/Discord Bot.md",{"type":64,"value":65,"toc":338},"minimal",[66,71,75,79,93,102,106,109,126,130,141,145,148,152,155,297,300,308,311,314,334],[67,68,70],"h2",{"id":69},"введение","Введение",[72,73,74],"p",{},"Это мой первый серьезный проект на Node.js без учебы в качестве бэкенд-разработчика. Я создал бота для частного сервера Discord, предназначенного для общения и ролевых игр.",[67,76,78],{"id":77},"ссылки","Ссылки",[80,81,82],"ul",{},[83,84,85,86],"li",{},"Git-репозиторий: ",[87,88,92],"a",{"href":89,"rel":90},"https://github.com/koshacha/paimon-nestjs",[91],"nofollow","github.com/koshacha/paimon-nestjs",[72,94,95,96,101],{},"В качестве основной библиотеки для работы с Discord.js с Nest.js я использовал ",[87,97,100],{"href":98,"rel":99},"https://github.com/necordjs/necord",[91],"эту",".",[67,103,105],{"id":104},"команды-бота","Команды бота",[72,107,108],{},"Бот может делать следующее.",[80,110,111,114,123],{},[83,112,113],{},"Подсчитывает посты пользователей в определенных каналах (админ решает, в каких именно) и выводит рейтинг за все время, неделю или месяц.",[83,115,116,117,122],{},"С помощью ",[87,118,121],{"href":119,"rel":120},"https://www.random.org/",[91],"RANDOM.ORG"," выдает случайное число/действие.",[83,124,125],{},"Поддерживает простую экономику сервера - позволяет пользователям сервера зарабатывать валюту и покупать на нее игровые предметы (которые могут быть созданы администратором)",[67,127,129],{"id":128},"детали-реализации","Детали реализации",[80,131,132,135,138],{},[83,133,134],{},"Язык разработки: Node.js",[83,136,137],{},"Фреймворк Nest.js",[83,139,140],{},"База данных: Google Firebase",[67,142,144],{"id":143},"прогресс-в-работе","Прогресс в работе",[72,146,147],{},"В процессе работы я познакомился с Nest.js и Discord.js поближе, получил опыт разработки ботов. Я настроил Github Actions так, чтобы образ на Docker Hub обновлялся после изменений в основной ветке репозитория.",[67,149,151],{"id":150},"запуск-бота-с-помощью-docker-compose","Запуск бота с помощью docker compose",[72,153,154],{},"Прежде всего, вам нужно создать файл docker-compose.yml со следующим содержимым:",[156,157,162],"pre",{"className":158,"code":159,"language":160,"meta":161,"style":161},"language-yaml shiki shiki-themes vitesse-dark","name: paimon\nservices:\n  paimon-bot:\n    ports:\n      - 8000:8000\n    volumes:\n      - .:/usr/src/app\n    env_file:\n      - .env\n    restart: always\n    logging:\n      options:\n        max-size: 1g\n    image: koshacha/paimon-bot:master\n","yaml","",[163,164,165,182,191,199,207,216,224,232,240,248,259,267,275,286],"code",{"__ignoreMap":161},[166,167,170,174,178],"span",{"class":168,"line":169},"line",1,[166,171,173],{"class":172},"sm68I","name",[166,175,177],{"class":176},"s_pn2",":",[166,179,181],{"class":180},"s7rlk"," paimon\n",[166,183,185,188],{"class":168,"line":184},2,[166,186,187],{"class":172},"services",[166,189,190],{"class":176},":\n",[166,192,194,197],{"class":168,"line":193},3,[166,195,196],{"class":172},"  paimon-bot",[166,198,190],{"class":176},[166,200,202,205],{"class":168,"line":201},4,[166,203,204],{"class":172},"    ports",[166,206,190],{"class":176},[166,208,210,213],{"class":168,"line":209},5,[166,211,212],{"class":176},"      -",[166,214,215],{"class":180}," 8000:8000\n",[166,217,219,222],{"class":168,"line":218},6,[166,220,221],{"class":172},"    volumes",[166,223,190],{"class":176},[166,225,227,229],{"class":168,"line":226},7,[166,228,212],{"class":176},[166,230,231],{"class":180}," .:/usr/src/app\n",[166,233,235,238],{"class":168,"line":234},8,[166,236,237],{"class":172},"    env_file",[166,239,190],{"class":176},[166,241,243,245],{"class":168,"line":242},9,[166,244,212],{"class":176},[166,246,247],{"class":180}," .env\n",[166,249,251,254,256],{"class":168,"line":250},10,[166,252,253],{"class":172},"    restart",[166,255,177],{"class":176},[166,257,258],{"class":180}," always\n",[166,260,262,265],{"class":168,"line":261},11,[166,263,264],{"class":172},"    logging",[166,266,190],{"class":176},[166,268,270,273],{"class":168,"line":269},12,[166,271,272],{"class":172},"      options",[166,274,190],{"class":176},[166,276,278,281,283],{"class":168,"line":277},13,[166,279,280],{"class":172},"        max-size",[166,282,177],{"class":176},[166,284,285],{"class":180}," 1g\n",[166,287,289,292,294],{"class":168,"line":288},14,[166,290,291],{"class":172},"    image",[166,293,177],{"class":176},[166,295,296],{"class":180}," koshacha/paimon-bot:master\n",[72,298,299],{},"Вам также нужно будет создать файл .env и поместить в него следующее.",[156,301,306],{"className":302,"code":304,"language":305,"meta":161},[303],"language-text","DISCORD_TOKEN=\"\"\nDEV_GUILD=\"\"\nGOOGLE_APPLICATION_CREDENTIAL=\"\"\nGOOGLE_PROJECT_ID=\"\"\nGOOGLE_CLIENT_EMAIL=\"\"\nGOOGLE_PRIVATE_KEY=\"\"\n","text",[163,307,304],{"__ignoreMap":161},[72,309,310],{},"Конечно, сначала вам нужно будет получить токен Discord и ключи Google Firebase.",[72,312,313],{},"Все, что вам нужно сделать, это запустить приложение с помощью команды:",[156,315,319],{"className":316,"code":317,"language":318,"meta":161,"style":161},"language-bash shiki shiki-themes vitesse-dark","docker-compose up -d\n","bash",[163,320,321],{"__ignoreMap":161},[166,322,323,327,330],{"class":168,"line":169},[166,324,326],{"class":325},"sCK9x","docker-compose",[166,328,329],{"class":180}," up",[166,331,333],{"class":332},"sXjYR"," -d\n",[335,336,337],"style",{},"html pre.shiki code .sm68I, html code.shiki .sm68I{--shiki-default:#B8A965}html pre.shiki code .s_pn2, html code.shiki .s_pn2{--shiki-default:#666666}html pre.shiki code .s7rlk, html code.shiki .s7rlk{--shiki-default:#C98A7D}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html pre.shiki code .sCK9x, html code.shiki .sCK9x{--shiki-default:#80A665}html pre.shiki code .sXjYR, html code.shiki .sXjYR{--shiki-default:#C99076}",{"title":161,"searchDepth":184,"depth":184,"links":339},[340,341,342,343,344,345],{"id":69,"depth":184,"text":70},{"id":77,"depth":184,"text":78},{"id":104,"depth":184,"text":105},{"id":128,"depth":184,"text":129},{"id":143,"depth":184,"text":144},{"id":150,"depth":184,"text":151},"Бот для приватного Discord-сервера, посвященного общению и ролевой игре. Написан на Nest.js.","md",{"seoDescription":349,"tags":350,"year":352,"sort":201,"published":353,"color":354,"icon":355,"layout":356,"link":357,"image":358},"Проект Discord-бота на Node.js, Nest.js, Google Firebase и Docker.",[351],"Backend",2024,true,"#F7BFBE","doodles:star","project","https://discord.com/oauth2/authorize?client_id=1121418492097343589&permissions=275012176976&scope=bot","/image/discord.jpg",{"title":22,"description":346},"8AnZR3fzlwpK0NTdaFdSQsqTSnkEc-avC9jx64y9A5o",1747836269038]