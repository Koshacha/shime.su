<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Бот Discord</title><style>pre code .line{display:block}</style><link rel="stylesheet" href="/_nuxt/entry.Dst00bwv.css" crossorigin><style>:where(.i-lucide\:menu){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 12h16M4 18h16M4 6h16'/%3E%3C/svg%3E")}</style><link rel="preload" as="fetch" crossorigin="anonymous" href="/cases/discord-bot/_payload.json?4c1b0a12-f90e-464a-a062-34d14d7d9ffd"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Du_rhjc_.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BmjsUh09.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DMuLxHjS.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BSzvWXDR.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CZQVYzFy.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/KAuXgfb7.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ZYPdvBNq.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/XR1BccOi.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DySCcO_X.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Cfa0YcDp.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Cc-WNuyr.js"><link rel="preload" as="fetch" fetchpriority="low" crossorigin="anonymous" href="/_nuxt/builds/meta/4c1b0a12-f90e-464a-a062-34d14d7d9ffd.json"><script src="https://eu.umami.is/script.js" defer data-website-id="4361b3b2-95c6-40ca-820d-71bdb05af291"></script><link rel="prefetch" as="style" crossorigin href="/_nuxt/index.B1FApBYP.css"><link rel="prefetch" as="script" crossorigin href="/_nuxt/D3jl5TSd.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/C5VwfoI4.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/CYnfWDmy.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/DZRmJyCf.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/BM39NhzG.js"><link rel="prefetch" as="style" crossorigin href="/_nuxt/Gallery.DANIogMp.css"><link rel="prefetch" as="script" crossorigin href="/_nuxt/CuCvhtLY.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/DkBO5BSw.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/BiqjcvqK.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/C358vFns.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/CCJnifTv.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/BSPlstNd.js"><meta name="description" content="Бот для приватного Discord-сервера, посвященного общению и ролевой игре. Написан на Nest.js."><script type="module" src="/_nuxt/Du_rhjc_.js" crossorigin></script></head><body  class="dark:bg-neutral-900 dark:text-white bg-white"><div id="__nuxt"><div class="min-h-screen flex flex-col text-lg"><nav class="fixed w-full z-50 transition-all duration-300 px-6 md:px-12 py-4 bg-transparent"><div class="container mx-auto flex items-center justify-between"><div class="hidden md:flex items-center bg-secondary/50 rounded-full px-1.5 py-1.5 relative"><a href="/" class="text-xl font-semibold px-4"><span class="text-text-primary">示す</span></a><!----><!--[--><a href="/" class="px-4 py-1.5 rounded-full transition-all duration-300 relative text-text-secondary hover:text-text-primary">Главная <!----></a><a href="/cases" class="px-4 py-1.5 rounded-full transition-all duration-300 relative text-text-secondary hover:text-text-primary">Проекты <!----></a><a href="/work" class="px-4 py-1.5 rounded-full transition-all duration-300 relative text-text-secondary hover:text-text-primary">Работа <!----></a><a href="/me" class="px-4 py-1.5 rounded-full transition-all duration-300 relative text-text-secondary hover:text-text-primary">Обо мне <!----></a><!--]--></div><a href="/" class="md:hidden text-xl font-semibold"><span class="text-text-primary">示す</span><span class="text-text-secondary ml-2 text-sm">[shimesu]</span></a><div class="flex items-center space-x-3"><div class="relative"><button class="px-3 py-1.5 rounded-full bg-accent/10 hover:bg-accent/20 transition-colors text-text-primary flex items-center space-x-1"><span>RU</span></button><!----></div><a class="inline-flex items-center px-4 py-2 text-primary rounded-full transition-colors font-medium bg-accent max-md:hidden" to="/docs/cv-ilya-mazunin-vue-ru.pdf" href="/docs/cv-ilya-mazunin-vue-ru.pdf"><!--[-->Скачать портфолио<!--]--></a><button class="inline-flex items-center rounded-full transition-colors font-medium bg-secondary text-text-secondary border-accent/10 md:hidden p-2"><!--[--><span class="sr-only">Menu</span><span class="iconify i-lucide:menu size-5" aria-hidden="true" style=""></span><!--]--></button></div></div><!----></nav><div class="min-h-screen flex flex-col"><main class="flex-grow"><div class="pt-24 md:pt-48 pb-16 px-6 md:px-12"><div class="max-w-7xl mx-auto"><div class="content space-y-16"><!--[--><div><h2 id="введение"><a href="#введение"><!--[-->Введение<!--]--></a></h2><p><!--[-->Это мой первый серьезный проект на Node.js без учебы в качестве бэкенд-разработчика. Я создал бота для частного сервера Discord, предназначенного для общения и ролевых игр.<!--]--></p><h2 id="ссылки"><a href="#ссылки"><!--[-->Ссылки<!--]--></a></h2><ul><!--[--><li><!--[-->Git-репозиторий: <a href="https://github.com/koshacha/paimon-nestjs" rel="nofollow"><!--[-->github.com/koshacha/paimon-nestjs<!--]--></a><!--]--></li><!--]--></ul><p><!--[-->В качестве основной библиотеки для работы с Discord.js с Nest.js я использовал <a href="https://github.com/necordjs/necord" rel="nofollow"><!--[-->эту<!--]--></a>.<!--]--></p><h2 id="команды-бота"><a href="#команды-бота"><!--[-->Команды бота<!--]--></a></h2><p><!--[-->Бот может делать следующее.<!--]--></p><ul><!--[--><li><!--[-->Подсчитывает посты пользователей в определенных каналах (админ решает, в каких именно) и выводит рейтинг за все время, неделю или месяц.<!--]--></li><li><!--[-->С помощью <a href="https://www.random.org/" rel="nofollow"><!--[-->RANDOM.ORG<!--]--></a> выдает случайное число/действие.<!--]--></li><li><!--[-->Поддерживает простую экономику сервера - позволяет пользователям сервера зарабатывать валюту и покупать на нее игровые предметы (которые могут быть созданы администратором)<!--]--></li><!--]--></ul><h2 id="детали-реализации"><a href="#детали-реализации"><!--[-->Детали реализации<!--]--></a></h2><ul><!--[--><li><!--[-->Язык разработки: Node.js<!--]--></li><li><!--[-->Фреймворк Nest.js<!--]--></li><li><!--[-->База данных: Google Firebase<!--]--></li><!--]--></ul><h2 id="прогресс-в-работе"><a href="#прогресс-в-работе"><!--[-->Прогресс в работе<!--]--></a></h2><p><!--[-->В процессе работы я познакомился с Nest.js и Discord.js поближе, получил опыт разработки ботов. Я настроил Github Actions так, чтобы образ на Docker Hub обновлялся после изменений в основной ветке репозитория.<!--]--></p><h2 id="запуск-бота-с-помощью-docker-compose"><a href="#запуск-бота-с-помощью-docker-compose"><!--[-->Запуск бота с помощью docker compose<!--]--></a></h2><p><!--[-->Прежде всего, вам нужно создать файл docker-compose.yml со следующим содержимым:<!--]--></p><pre class="language-yaml shiki shiki-themes vitesse-dark" style=""><!--[--><code><span class="line" line="1"><span class="sm68I">name</span><span class="s_pn2">:</span><span class="s7rlk"> paimon
</span></span><span class="line" line="2"><span class="sm68I">services</span><span class="s_pn2">:
</span></span><span class="line" line="3"><span class="sm68I">  paimon-bot</span><span class="s_pn2">:
</span></span><span class="line" line="4"><span class="sm68I">    ports</span><span class="s_pn2">:
</span></span><span class="line" line="5"><span class="s_pn2">      -</span><span class="s7rlk"> 8000:8000
</span></span><span class="line" line="6"><span class="sm68I">    volumes</span><span class="s_pn2">:
</span></span><span class="line" line="7"><span class="s_pn2">      -</span><span class="s7rlk"> .:/usr/src/app
</span></span><span class="line" line="8"><span class="sm68I">    env_file</span><span class="s_pn2">:
</span></span><span class="line" line="9"><span class="s_pn2">      -</span><span class="s7rlk"> .env
</span></span><span class="line" line="10"><span class="sm68I">    restart</span><span class="s_pn2">:</span><span class="s7rlk"> always
</span></span><span class="line" line="11"><span class="sm68I">    logging</span><span class="s_pn2">:
</span></span><span class="line" line="12"><span class="sm68I">      options</span><span class="s_pn2">:
</span></span><span class="line" line="13"><span class="sm68I">        max-size</span><span class="s_pn2">:</span><span class="s7rlk"> 1g
</span></span><span class="line" line="14"><span class="sm68I">    image</span><span class="s_pn2">:</span><span class="s7rlk"> koshacha/paimon-bot:master
</span></span></code><!--]--></pre><p><!--[-->Вам также нужно будет создать файл .env и поместить в него следующее.<!--]--></p><pre class="language-text"><!--[--><code>DISCORD_TOKEN=&quot;&quot;
DEV_GUILD=&quot;&quot;
GOOGLE_APPLICATION_CREDENTIAL=&quot;&quot;
GOOGLE_PROJECT_ID=&quot;&quot;
GOOGLE_CLIENT_EMAIL=&quot;&quot;
GOOGLE_PRIVATE_KEY=&quot;&quot;
</code><!--]--></pre><p><!--[-->Конечно, сначала вам нужно будет получить токен Discord и ключи Google Firebase.<!--]--></p><p><!--[-->Все, что вам нужно сделать, это запустить приложение с помощью команды:<!--]--></p><pre class="language-bash shiki shiki-themes vitesse-dark" style=""><!--[--><code><span class="line" line="1"><span class="sCK9x">docker-compose</span><span class="s7rlk"> up</span><span class="sXjYR"> -d
</span></span></code><!--]--></pre><style>html pre.shiki code .sm68I, html code.shiki .sm68I{--shiki-default:#B8A965}html pre.shiki code .s_pn2, html code.shiki .s_pn2{--shiki-default:#666666}html pre.shiki code .s7rlk, html code.shiki .s7rlk{--shiki-default:#C98A7D}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html pre.shiki code .sCK9x, html code.shiki .sCK9x{--shiki-default:#80A665}html pre.shiki code .sXjYR, html code.shiki .sXjYR{--shiki-default:#C99076}</style></div><!--]--></div></div></div></main><footer class="py-6 px-6 md:px-12 text-text-secondary"><div class="container mx-auto"><div class="flex flex-row justify-between items-center"><p hydrate-never>Обновлено: 20.5.2025</p><div variant="secondary" style="display:none;opacity:0;transform:scale(0);"><button class="inline-flex items-center px-4 py-2 text-primary rounded-full transition-colors font-medium bg-accent max-md:hidden"><!--[-->Наверх<!--]--></button></div><div class="relative"><!--[--><button class="inline-flex items-center px-4 py-2 rounded-full transition-colors font-medium bg-secondary text-text-secondary border-accent/10"><!--[-->Связаться<!--]--></button><!--]--><div class="absolute bottom-full mb-2 right-0 w-64 bg-secondary rounded-lg shadow-lg p-4 border border-accent/10" style="display:none;"><div class="space-y-4"><div><div class="text-text-secondary mb-1 text-sm">Email</div><a href="mailto:qbub@proton.me" class="text-text-primary hover:text-accent transition-colors">qbub@proton.me</a></div><div><div class="text-text-secondary mb-1 text-sm">Другое</div><div class="grid grid-cols-2 gap-2"><!--[--><a href="https://t.me/Koshacha" class="text-text-primary hover:text-accent transition-colors">Telegram</a><a href="https://github.com/Koshacha" class="text-text-primary hover:text-accent transition-colors">GitHub</a><a href="https://www.upwork.com/freelancers/~01355186bd65b2bf29" class="text-text-primary hover:text-accent transition-colors">Upwork</a><a href="https://www.linkedin.com/in/koshacha" class="text-text-primary hover:text-accent transition-colors">LinkedIn</a><!--]--></div></div></div></div></div></div></div></footer></div></div></div><div id="teleports"></div><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/cases/discord-bot/_payload.json?4c1b0a12-f90e-464a-a062-34d14d7d9ffd">[{"state":1,"once":4,"_errors":5,"serverRendered":7,"path":8,"prerenderedAt":9},["Reactive",2],{"$snuxt-i18n-meta":3},{},["Set"],["ShallowReactive",6],{"navigation":-1,"/cases/discord-bot":-1},true,"/cases/discord-bot",1748626734308]</script><script>window.__NUXT__={};window.__NUXT__.config={public:{content:{wsUrl:""},mdc:{components:{prose:true,map:{}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},preview:{api:"https://api.nuxt.studio",iframeMessagingAllowedOrigins:""},i18n:{baseUrl:"",defaultLocale:"ru",defaultDirection:"ltr",strategy:"prefix_except_default",lazy:false,rootRedirect:"",routesNameSeparator:"___",defaultLocaleRouteNameSuffix:"default",skipSettingLocaleOnNavigate:false,differentDomains:false,trailingSlash:false,locales:[{code:"en",name:"English",files:[{path:"/home/runner/work/shime.su/shime.su/i18n/locales/en.ts",cache:""}]},{code:"ru",name:"Русский",files:[{path:"/home/runner/work/shime.su/shime.su/i18n/locales/ru.ts",cache:""}]}],detectBrowserLanguage:{alwaysRedirect:false,cookieCrossOrigin:false,cookieDomain:"",cookieKey:"i18n_redirected",cookieSecure:false,fallbackLocale:"",redirectOn:"root",useCookie:true},experimental:{localeDetector:"",switchLocalePathLinkSSR:false,autoImportTranslationFunctions:false,typedPages:true,typedOptionsAndMessages:false,generatedLocaleFilePathFormat:"absolute",alternateLinkCanonicalQueries:false,hmr:true},multiDomainLocales:false}},app:{baseURL:"/",buildId:"4c1b0a12-f90e-464a-a062-34d14d7d9ffd",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>